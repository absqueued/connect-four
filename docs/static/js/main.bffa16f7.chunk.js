(this["webpackJsonp@shekhardesigner/connect-four"]=this["webpackJsonp@shekhardesigner/connect-four"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(7),o=n.n(a),s=n(1),i=n.n(s),u=(n(15),n(3)),l={starterColor:"blue",allColors:["blue","red"],rows:6,cols:7},j="game.start",b="game.draw",f="game.playing",h=n(0),d=function(e){var t=e.size,n=void 0===t?"md":t;return Object(h.jsx)("div",{className:"logo-wrap logo-wrap--".concat(n),children:Object(h.jsxs)("h1",{className:"logo",children:[Object(h.jsx)("span",{children:'"Connect'})," ",Object(h.jsx)("span",{children:'Four"'})]})})},O=function(e){var t=e.onStart;return Object(h.jsxs)("section",{className:"page page--start",children:[Object(h.jsx)(d,{}),Object(h.jsx)("p",{children:"Simple as a straight line"}),Object(h.jsx)("button",{onClick:function(){var e=prompt("Player One name?"),n=prompt("Player Two name?");if(!e||!n)return!1;i.a.setItem("currentPlayer",l.starterColor),i.a.setItem("users",{red:e,blue:n}).then((function(){i.a.setItem(j,!0).then((function(e){t(e)}))}))},type:"button",className:"btn-start",rel:"noopener noreferrer",children:"Play Now"})]})},m=function(e){var t=e.name,n=void 0===t?"John":t,r=e.theme,c=void 0===r?"blue":r;return Object(h.jsxs)("div",{className:"player player--".concat(c),children:["TURN: ",n]})},x=function(e){var t=e.theme,n=e.player;return Object(h.jsxs)("header",{children:[Object(h.jsx)(d,{size:"sm"}),Object(h.jsx)(m,{name:n,theme:t})]})},v=n(8),p=n(9),g=n(19),y=function(e){var t=e.currentPlayer,n=e.onPlayerMoves,c=Array.from({length:l.rows}),a=Array.from({length:l.cols}),o=Object(r.useState)({}),s=Object(u.a)(o,2),d=s[0],O=s[1],m=Object(r.useState)([]),x=Object(u.a)(m,2),y=x[0],C=x[1],N=Object(r.useState)(j),k=Object(u.a)(N,2),S=k[0],w=k[1],I=function(e,t){return y.find((function(n){return n.x===e&&n.y===t}))};i.a.getItem("users").then((function(e){Object.keys(d).length||O(e)}));var P=function(e){var t=l.allColors.filter((function(t){return t!==e})).join("");i.a.setItem("currentPlayer",t).then((function(e){n(e)}))};return Object(r.useEffect)((function(){var e,t;!function(e){if("red"===e||"blue"===e){var t=d[e];w(t)}else w(e)}(function(n){var r,o=new Set(n.map((function(e){return[e.x,e.y].join(e.p)}))),s=Object(v.a)(n);try{var i=function(){for(var n=r.value,c=0,a=[[0,1],[1,0],[1,1],[1,-1]];c<a.length;c++){var s=Object(u.a)(a[c],2);if(e=s[0],t=s[1],[1,2,3].every((function(r){var c=[n.x+r*e,n.y+r*t].join(n.p);return o.has(c)})))return{v:n.p}}};for(s.s();!(r=s.n()).done;){var l=i();if("object"===typeof l)return l.v}}catch(j){s.e(j)}finally{s.f()}return n.length===c.length*a.length?b:f}(y))}),[y]),Object(h.jsxs)("article",{children:[S!==f&&Object(h.jsxs)("h1",{children:["Winner is: ",S]}),Object(h.jsxs)("div",{className:"board-grid board-grid--".concat(t),children:[a.map((function(e,n){return Object(h.jsx)("div",{className:"box-row",children:c.map((function(e,r){var a=I(n,r);return Object(h.jsx)("div",{onClick:function(){return function(e,t,n){if(S===f||S===b){for(var r=-1,a=c.length-1;a>=0;a--)if(!I(e,a)){r=a;break}if(-1===r)return!1;C((function(t){return[].concat(Object(p.a)(t),[{x:e,y:r,p:n}])})),P(n)}}(n,0,t)},className:"box box--".concat(a?a.p:""),children:"Box x: ".concat(n,", y: ").concat(r)},Object(g.a)())}))},Object(g.a)())})),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"btn-tb btn-tb--p",onClick:function(){return C((function(e){return e.slice(0,e.length-1)})),void P(t)},children:"Undo"})})]})]})},C=function(e){var t=e.onChange;return Object(h.jsxs)("footer",{children:[Object(h.jsx)("button",{className:"btn-tb btn-tb--p",onClick:function(){t(!1)},children:"Reset"}),Object(h.jsx)("button",{className:"btn-tb btn-tb--d",onClick:function(){i.a.clear().then((function(){i.a.setItem(j,!1).then((function(e){t(e)}))}))},children:"Quit"})]})},N=function(e){var t=e.onChange,n=Object(r.useState)(l.starterColor),c=Object(u.a)(n,2),a=c[0],o=c[1],s=Object(r.useState)({}),j=Object(u.a)(s,2),b=j[0],f=j[1];return i.a.getItem("users").then((function(e){Object.keys(b).length||f(e)})),Object(h.jsxs)("section",{className:"board",children:[Object(h.jsx)(x,{theme:a,player:b[a]}),Object(h.jsx)(y,{currentPlayer:a,onPlayerMoves:function(e){return o(e)}}),Object(h.jsx)(C,{onChange:t})]})};var k=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1];return i.a.getItem(j).then((function(e){c(e)})),Object(h.jsxs)("main",{children:[!n&&Object(h.jsx)(O,{onStart:function(e){return c(e)}}),n&&Object(h.jsx)(N,{onChange:function(e){return c(e)}})]})};i.a.config({name:"C4_ConnectFour",storeName:"C4_Store"}),i.a.getItem(j).then((function(e){e||i.a.setItem(j,!1)})),o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.bffa16f7.chunk.js.map